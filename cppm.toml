[package]
name    = "cppm"
version = "0.0.13"
description = "c++ cmake maker use to toml like Cargo"
git = "https://github.com/injae/cppm.git"
tool-version = "dev"

[cmake]
include  = ["cmake/cppm_install.cmake"]

[features]
    default = [ "json", "toml" ] # default flags set ON
    json = ["serdepp/json"]
    toml = ["serdepp/toml11"]
    test = ["$USE_CPPM_TEST"] # default value is OFF
    
[lib]
name = "cppm-core"
source = ["src/core/.*", "src/util/.*", "src/cppkg/.*"]

[[bin]]
name   = "cppm"
source = ["src/cmake/.*","src/option/.*", "src/util/.*", "src/main.cpp"]

[[test]]
name   = "cppm-test-check"
source = ["tests/test.cpp"]

[[example]]
name   = "cppm-core-load"
source = ["examples/example.cpp"]

#[workspace]
    #member = ["libs/nlpo", "libs/serdepp"]
    #member = ["libs/nlpo"]

[dependencies]
fmt      = "7.1.3"
hashpp   = "git"
range-v3 = "git"
nlpo     = "git"
toml11   = "3.6.0"
serdepp  = "git"
nlohmann_json="3.9.1"

[dev-dependencies]
    Catch2 = "2.9.1"

#[target.all-osx-clang.dependencies]
#    dbg-macro = "git"